<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Worker Assigned - QuickFix</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Bootstrap & Fonts -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f4f8fb;
      color: #333;
    }
    .navbar {
      background-color:  #007bff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      padding: 1rem 2rem;
    }
    .navbar-brand {
      font-weight: 600;
      font-size: 1.2rem;
    }

    .section-title {
      font-weight: 600;
      font-size: 1.7rem;
      margin: 30px 0 25px;
      color: #2c3e50;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 25px;
    }

    .request-card {
      border: none;
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 30px;
      background: linear-gradient(145deg, #ffffff, #e9eff5);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.07);
      transition: transform 0.3s ease;
    }

    .request-card:hover {
      transform: translateY(-3px);
    }

    .request-card h5 {
      font-weight: 600;
      font-size: 1.2rem;
    }

    .request-card .badge {
      font-size: 0.75rem;
      padding: 5px 8px;
    }

    .available-worker {
      background: #fff;
      border-radius: 10px;
      padding: 15px 20px;
      margin-bottom: 10px;
      border: 1px solid #dee2e6;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .available-worker .btn {
      border-radius: 20px;
    }

    .available-worker strong {
      font-weight: 600;
    }

    .form-control, .form-select {
      max-width: 100%;
      border-radius: 10px;
    }

    @media (max-width: 768px) {
      .controls {
        flex-direction: column;
        align-items: stretch;
      }
    }
  </style>
</head>
<body>

 <nav class="navbar navbar-expand-lg position-relative">
  <a class="btn btn-outline-light back-btn position-relative z-2" href="admin-dashboard.html">
    <i class="fas fa-arrow-left"></i> Back
  </a>

  <!-- Centered Title -->
  <span class="navbar-brand position-absolute top-50 start-50 translate-middle text-white"><i class="fas fa-wrench me-1 brand-icon"></i>
    QuickFix Admin
  </span>
</nav>


<div class="container mt-4 mb-5">
  <h2 class="section-title">Worker Assignment</h2>

  <!-- Search & Filter Controls -->
  <div class="controls">
    <input type="text" id="searchInput" class="form-control w-50" placeholder="üîç Search by name or service..." onkeyup="filterRequests()" />
    <select id="priorityFilter" class="form-select w-auto" onchange="filterRequests()">
      <option value="">üéØ All Priorities</option>
      <option value="High">üö® High Priority</option>
      <option value="Medium">üîß Medium Priority</option>
    </select>
  </div>

  <!-- üî• Request Card 1 -->
  <div class="request-card" data-name="Emily Johnson" data-priority="High">
    <h5 class="mb-3">üö® Emily Johnson <span class="badge bg-danger">High Priority</span></h5>
    <p><i class="fas fa-map-marker-alt me-1 text-secondary"></i><strong>Address:</strong> 123 Main St, Downtown</p>
    <p><strong>Issue:</strong> Emergency pipe burst</p>
    <p><strong>Requested At:</strong> 2:30 PM | <strong>Duration:</strong> 2‚Äì3 hours</p>

    <h6 class="mt-4 mb-2">Available Workers</h6>
    <div class="available-worker">
      <div>
        <strong><span class="badge bg-warning text-dark me-2">JS</span>John Smith</strong>
        <div class="text-muted">Downtown ‚Ä¢ ‚≠ê 4.9</div>
      </div>
      <button class="btn btn-dark btn-sm" onclick="confirmAssign('Emily Johnson', 'John Smith')">Assign</button>
    </div>
  </div>

  <!-- üõ†Ô∏è Request Card 2 -->
  <div class="request-card" data-name="Robert Smith" data-priority="Medium">
    <h5 class="mb-3">üîß Robert Smith <span class="badge bg-secondary">Medium Priority</span></h5>
    <p><i class="fas fa-map-marker-alt me-1 text-secondary"></i><strong>Address:</strong> 456 Oak Ave, Uptown</p>
    <p><strong>Issue:</strong> Kitchen sink installation</p>
    <p><strong>Requested At:</strong> 1:15 PM | <strong>Duration:</strong> 1‚Äì2 hours</p>

    <h6 class="mt-4 mb-2">Available Workers</h6>
    <div class="available-worker">
      <div>
        <strong><span class="badge bg-warning text-dark me-2">MJ</span>Mike Johnson</strong>
        <div class="text-muted">Uptown ‚Ä¢ ‚≠ê 4.7</div>
      </div>
      <button class="btn btn-dark btn-sm" onclick="confirmAssign('Robert Smith', 'Mike Johnson')">Assign</button>
    </div>
  </div>

</div>

<!-- Bootstrap & JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  function confirmAssign(customer, worker) {
    if (confirm(`Are you sure you want to assign ${worker} to ${customer}?`)) {
      alert(`${worker} has been assigned to ${customer}!`);
      // backend integration can go here
    }
  }

  function filterRequests() {
    const search = document.getElementById('searchInput').value.toLowerCase();
    const priority = document.getElementById('priorityFilter').value;
    const cards = document.querySelectorAll('.request-card');

    cards.forEach(card => {
      const name = card.dataset.name.toLowerCase();
      const prio = card.dataset.priority;

      const matchName = name.includes(search);
      const matchPriority = priority === '' || prio === priority;

      card.style.display = (matchName && matchPriority) ? 'block' : 'none';
    });
  }
</script>
</body>
</html>
